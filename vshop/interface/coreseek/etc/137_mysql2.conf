#文章
source article
{
    type                    = mysql

    sql_host                = localhost
    sql_user                = root
    sql_pass                = 
    sql_db                    = 137home
    sql_port                = 3306
    sql_query_pre            = SET NAMES utf8

    sql_query                = SELECT id,cid,topid,title,keyword,content,create_time,status,utype,user_id,webset FROM 137_article
                                                              #sql_query第一列id需为整数
                                                              #title、content作为字符串/文本字段，被全文索引
    sql_attr_uint            =  cid          #分类
    sql_attr_uint            =  topid        #顶级分类
    sql_attr_uint            =  status       #状态
    sql_attr_uint            =  utype        #管理员类型
    sql_attr_uint            =  user_id      #管理员ID
    sql_attr_uint            =  create_time  #添加时间
    sql_attr_string          =  webset       #站点
    #sql_attr_uint           =  do           #状态改变
    #sql_attr_timestamp      = date_added    #从SQL读取到的值必须为整数，作为时间属性

    sql_query_info_pre      = SET NAMES utf8                                        #命令行查询时，设置正确的字符集
    sql_query_info            = SELECT id,cid,topid,title,keyword,content,create_time,status,utype,user_id,webset FROM 137_article WHERE id=$id #命令行查询时，从数据库读取原始数据信息
}

source article_zl : article{

sql_query = SELECT id,cid,topid,title,keyword,content,create_time,status,utype,user_id,webset FROM 137_article where id >(select max_doc_id from sph_counter where counter_id=4) #增量索引是id大于标识位置的部分
}

#index定义
index article_index
{
    source            = article             #对应的source名称
    #path            = /home/wwwroot/code/test/testpack/var/data/137_art #请修改为实际使用的绝对路径，例如：/usr/local/coreseek/var/...
    path            = D:\wamp\www\gongsi\obj1/var/data/137_art2 #请修改为实际使用的绝对路径，例如：/usr/local/coreseek/var/...
    docinfo            = extern
    mlock            = 0
    morphology        = none
    min_word_len        = 2
    #min_prefix_len           = 2
    min_infix_len            = 2
    html_strip                = 0

    #中文分词配置，详情请查看：http://www.coreseek.cn/products-install/coreseek_mmseg/
    #charset_dictpath = /usr/local/mmseg3/etc/ #BSD、Linux环境下设置，/符号结尾
    charset_dictpath = D:\wamp\www\gongsi\obj1\interface\coreseek/etc/                             #Windows环境下设置，/符号结尾，最好给出绝对路径，例如：C:/usr/local/coreseek/etc/...
    charset_type        = zh_cn.utf-8
}

index article_zl_index:article_index{
source = article_zl
#path = /home/wwwroot/code/test/testpack/var/data/137_art_zl
path = D:\wamp\www\gongsi\obj1/var/data/137_art_zl2
}

#会员
source member
{
    type                    = mysql

    sql_host                = localhost
    sql_user                = root
    sql_pass                = 
    sql_db                    = 137home
    sql_port                = 3306
    sql_query_pre            = SET NAMES utf8

    sql_query                = SELECT id,username,tel,realname,email,status,create_time  FROM 137_member
    sql_attr_uint            =  create_time           #从SQL读取到的值必须为整数
    sql_attr_uint            =  status           #从SQL读取到的值必须为整数
    sql_query_info_pre      = SET NAMES utf8                                        #命令行查询时，设置正确的字符集
    sql_query_info            = SELECT * FROM 137_member WHERE id=$id #命令行查询时，从数据库读取原始数据信息
}

source member_zl : member{

sql_query = SELECT id,username,tel,realname,email,status,create_time FROM 137_member where id >(select max_doc_id from sph_counter where counter_id=5) #增量索引是id大于标识位置的部分
}

#index定义
index member_index
{
    source            = member             #对应的source名称
    #path            = /home/wwwroot/code/test/testpack/var/data/137_member #请修改为实际使用的绝对路径，例如：/usr/local/coreseek/var/...
    path            = D:\wamp\www\gongsi\obj1/var/data/137_member2 #请修改为实际使用的绝对路径，例如：/usr/local/coreseek/var/...
    docinfo            = extern
    mlock            = 0
    morphology        = none
    min_word_len        = 1
    html_strip                = 0

    #中文分词配置，详情请查看：http://www.coreseek.cn/products-install/coreseek_mmseg/
    #charset_dictpath = /usr/local/mmseg3/etc/ #BSD、Linux环境下设置，/符号结尾
    charset_dictpath = D:\wamp\www\gongsi\obj1\interface\coreseek/etc/                             #Windows环境下设置，/符号结尾，最好给出绝对路径，例如：C:/usr/local/coreseek/etc/...
    charset_type        = zh_cn.utf-8
}

index member_zl_index:member_index{
source = member_zl
#path = /home/wwwroot/code/test/testpack/var/data/137_member_zl
path = D:\wamp\www\gongsi\obj1/var\data/137_member_zl2
}

#设计师作品
source designer_project
{
    type                    = mysql

    sql_host                = localhost
    sql_user                = root
    sql_pass                = 
    sql_db                    = 137home
    sql_port                = 3306
    sql_query_pre            = SET NAMES utf8

    sql_query                = SELECT id,tid,toptid,name,designerid,designername,company_id,fitcompany,pic_count,create_time,webset,status  FROM 137_designer_project
    sql_attr_uint            =  tid           #分类
    sql_attr_uint            =  toptid        #顶级分类
    sql_attr_uint            =  designerid    #所属设计师
    sql_attr_uint            =  company_id    #所属公司
    sql_attr_uint            =  create_time   #时间戳
    sql_attr_uint            =  status        #状态
    sql_attr_string          =  webset        #站点
    sql_query_info_pre      = SET NAMES utf8                                        #命令行查询时，设置正确的字符集
    sql_query_info            = SELECT * FROM 137_designer_project WHERE id=$id #命令行查询时，从数据库读取原始数据信息
}

source designer_project_zl : designer_project{
  sql_query = SELECT id,tid,toptid,name,designerid,designername,company_id,fitcompany,pic_count,create_time,webset,status  FROM 137_designer_project where id >(select max_doc_id from sph_counter where counter_id=6) #增量索引是id大于标识位置的部分
}

#index定义
index designer_project_index
{
    source            = designer_project             #对应的source名称
    #path            = /home/wwwroot/code/test/testpack/var/data/137_designer_project #请修改为实际使用的绝对路径，例如：/usr/local/coreseek/var/...
    path            = D:\wamp\www\gongsi\obj1/var/data/137_designer_project2 #请修改为实际使用的绝对路径，例如：/usr/local/coreseek/var/...
    docinfo            = extern
    mlock            = 0
    morphology        = none
    min_word_len        = 1
    html_strip                = 0

    #中文分词配置，详情请查看：http://www.coreseek.cn/products-install/coreseek_mmseg/
    #charset_dictpath = /usr/local/mmseg3/etc/ #BSD、Linux环境下设置，/符号结尾
    charset_dictpath = D:\wamp\www\gongsi\obj1\interface\coreseek/etc/                             #Windows环境下设置，/符号结尾，最好给出绝对路径，例如：C:/usr/local/coreseek/etc/...
    charset_type        = zh_cn.utf-8
}

index designer_project_zl_index:designer_project_index{
source = designer_project_zl
#path = /home/wwwroot/code/test/testpack/var/data/137_designer_project_zl
path = D:\wamp\www\gongsi\obj1/var/data/137_designer_project_zl2
}

#全局index定义
indexer
{
    mem_limit            = 1024M
}

#searchd服务定义
searchd
{
    listen                  =   9313
    read_timeout        = 2
    max_children        = 30
    max_matches            = 1000
    seamless_rotate        = 0
    preopen_indexes        = 0
    unlink_old            = 1
    pid_file = D:\wamp\www\gongsi\obj1/var/log/137home2.pid  #请修改为实际使用的绝对路径，例如：/usr/local/coreseek/var/...
    log = D:\wamp\www\gongsi\obj1/var/log/searchd_137home2.log        #请修改为实际使用的绝对路径，例如：/usr/local/coreseek/var/...
    query_log = D:\wamp\www\gongsi\obj1/var/log/query_137home2.log #请修改为实际使用的绝对路径，例如：/usr/local/coreseek/var/...
    binlog_path =                                #关闭binlog日志
}